%!TEX TS-program = xelatex
%!TEX encoding = UTF-8 Unicode

\documentclass[
	12pt,
	twoside,
	openright
	]{book}

\usepackage[
	top=1in,
	bottom=1in,
	inner=1in,
	%margin=1.23in,
	textwidth=13cm,
	%right=7cm
	%showframe
	]{geometry}

\geometry{a4paper}

\usepackage[parfill]{parskip}
\usepackage{graphicx}
\usepackage{epstopdf}
\epstopdfsetup{update}
\usepackage[usenames]{color}
\usepackage{amssymb}

\usepackage{titlesec}
\usepackage{titling}

\newcommand{\hsp}{\hspace{19pt}}
\titleformat{\chapter}[hang]{\Huge\bfseries\sffamily}{\thechapter\hsp•\hsp}{0pt}{\Huge\bfseries\sffamily}

\usepackage{listings}

\usepackage{
	fontspec,
	xltxtra,
	xunicode
	}

\usepackage{
	xfrac,
	unicode-math
	}

\defaultfontfeatures{Mapping=tex-text}
\setromanfont[
	Mapping=tex-text
	]{Rubik Light}
\setsansfont[
	Scale=MatchLowercase,
	Mapping=tex-text
	]{Open Sans}
\setmonofont[
	Scale=MatchLowercase
	]{Andale Mono}
\setmathfont[
	Scale=MatchLowercase
	]{Libertinus Math}

\newfontfamily\quotefont[
		Scale=MatchLowercase,
		Mapping=tex-text,
		LetterSpace=5.0,
		%Scale=1.123,
		]{Open Sans Light}%{Fira Sans Light}

\usepackage{etoolbox}
\AtBeginEnvironment{quote}{\quotefont\small}

\usepackage[
	autostyle,
	italian=guillemets,
	% altre opzioni
	]{csquotes}

\usepackage[
	english,
	italian
	]{babel}

\usepackage{imakeidx}
\makeindex
%\makeindex[name=things, title=Indice analitico]

\usepackage{tabularx}
\usepackage{array}
\newcolumntype{L}[1]{>{\raggedright\let\newline\\\arraybackslash\hspace{0pt}}m{#1}}
\newcolumntype{C}[1]{>{\centering\let\newline\\\arraybackslash\hspace{0pt}}m{#1}}
\newcolumntype{R}[1]{>{\raggedleft\let\newline\\\arraybackslash\hspace{0pt}}m{#1}}

\usepackage{longtable}
\usepackage{multirow}
\usepackage{booktabs}

\usepackage{paralist}

\usepackage{tikz}
\usetikzlibrary{
  angles,
  quotes,
  decorations.pathmorphing,
  decorations.markings}
\usepackage{pgfplots}

\usepackage{wrapfig}

\usepackage{url}

\linespread{1.1}

\renewcommand{\arraystretch}{1.6}

\newfontfamily\csdb[Ligatures=TeX]{Alegreya}

\usepackage{changepage}

\usepackage{ragged2e}

\usepackage[
	style=authoryear,
	%backend=biber
]{biblatex}

\addbibresource{musebib/nono-luigi.bib}
\addbibresource{musebib/novecento.bib}
%\addbibresource{musebib/partiture/milestone.bib}

% ----------------------------------------------------–––––––––– LISTING

% Make LaTeX output a dot when typing an asterisk
%\DeclareMathSymbol{*}{\mathbin}{symbols}{"01}

% lstlistings setup
\definecolor{yobg}{rgb}{0.9,0.9,1}
\definecolor{yotxt}{rgb}{0.01,0.01,0.52} % a dark blue.
\definecolor{mylstbg}{rgb}{0.98,0.98,0.98} % a really pale grey.
\definecolor{mylstcmt}{rgb}{0.01,0.52,0.01} % a dark green.
\definecolor{mylstdoc}{rgb}{0.80,0.30,0.80} % a medium pink.

\lstset{%
  language=C++,
  numbers=left,%none,
  tabsize=4,
  %frame=single,
  breaklines=true,
  numberstyle=\tiny\ttfamily,
  backgroundcolor=\color{mylstbg},
  basicstyle=\footnotesize\ttfamily,
  commentstyle=\slshape\color{mylstcmt}, %\itshape,
  %frameround=tttt,
  columns=flexible, %fixed,
  showstringspaces=false,
  emptylines=2,
  inputencoding=utf8,
  extendedchars=true,
  literate=	{á}{{\'a}}1
			{à}{{\`a}}1
			{ä}{{\"a}}1
			{â}{{\^a}}1
			{é}{{\'e}}1
			{è}{{\`e}}1
			{ë}{{\"e}}1
			{ê}{{\^e}}1
			{ï}{{\"i}}1
			{î}{{\^i}}1
			{ö}{{\"o}}1
			{ô}{{\^o}}1
			{è}{{\`e}}1
			{ù}{{\`u}}1
			{û}{{\^u}}1
			{ç}{{\c{c}}}1
			{Ç}{{\c{C}}}1,
  emph={component, declare, environment, import, library, process},
  emph={[2]ffunction, fconstant, fvariable},
  emph={[3]button, checkbox, vslider, hslider, nentry, vgroup, hgroup, tgroup, vbargraph, hbargraph, attach},
  emphstyle=\color{yotxt}, %\underline, %\bfseries,
  morecomment=[s][\color{mylstdoc}]{<mdoc>}{</mdoc>},
  rulecolor=\color{black}
}

% ----------------------------------------------------–––––––––– CUSTOM COMMANND
\newcommand*\rfrac[2]{{}^{#1}\!/_{#2}}

\newcommand{\rb}{\index{Rumore Bianco}\emph{rumore bianco}}
\newcommand{\tz}{\index{Trasformata zeta}\emph{trasformata zeta}}

% ----------------------------------------------------
% ----------------------------------------------------
% ----------------------------------------------------

\begin{document}

%\input{CAPITOLI/tikz/COMANDOBASE}

\input{CAPITOLI/_COPERTINA}

\clearpage

\tableofcontents

\raggedright

\input{CAPITOLI/0000-MANIFESTO}

\input{CAPITOLI/0001-COC}

\input{CAPITOLI/0100/0100-FENOMENI}

\input{CAPITOLI/0200/0200-SUONO}

\input{CAPITOLI/0300/0300-SPETTROMORFOLOGIA}

\input{CAPITOLI/0400/0400-PAESAGGIO-SONORO}

\input{CAPITOLI/0500/0500-DSP}

\input{CAPITOLI/0600/0600-ANALISI}

\input{CAPITOLI/0700/0700-SINTESI}

\input{CAPITOLI/0800/0800-REPERTORIO}

\input{CAPITOLI/0900/0900-FIGURE}

\input{CAPITOLI/1000/1000-ELETTROACUSTICA}

%\appendix

%\chapter{PROGRAMMAZIONE V}

%\clearpage

%\input{APPENDICI/PROGRAMMAZIONE-V}

\clearpage

\printbibliography

\clearpage

\listoffigures

\clearpage

\listoftables

\clearpage

%\listofformulas

\addcontentsline{toc}{chapter}{Indice dei nomi}
\printindex

\end{document}
